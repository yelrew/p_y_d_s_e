<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pydse package &mdash; PyDSE 1.0.0-rc.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Pydse API" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> PyDSE
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Pydse API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">pydse package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydse.pyopendss">pydse.pyopendss module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydse.powergrid">pydse.powergrid module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydse.loadflow">pydse.loadflow module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydse.dse">pydse.dse module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydse.meas">pydse.meas module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydse.meter">pydse.meter module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydse.gridutils">pydse.gridutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-pydse">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyDSE</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">Pydse API</a> &raquo;</li>
      <li>pydse package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/pydse.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pydse-package">
<h1>pydse package<a class="headerlink" href="#pydse-package" title="Permalink to this headline"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-pydse.pyopendss">
<span id="pydse-pyopendss-module"></span><h2>pydse.pyopendss module<a class="headerlink" href="#module-pydse.pyopendss" title="Permalink to this headline"></a></h2>
<p>An interface class to read OpenDSS data files</p>
<dl class="py class">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pydse.pyopendss.</span></span><span class="sig-name descname"><span class="pre">Dss</span></span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An interface class to read OpenDSS data files</p>
<p>The .dss file format is essentially a text-based command language script
which has models for several types of power delivery, conversion and source
elements.</p>
<p>The <cite>new</cite> command is the basic .dss command PyDSE interprets, determining
the type and properties of the elements to be added.
For a full reference of the OpenDSS command language syntax, please refer to
[1].</p>
<p class="rubric">Notes</p>
<p>Currently, the specific implementation of the .dss codes in PyDSE is as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Circuit</span></code></p></td>
<td><p>Implements a multi-phase voltage source. PyDSE defines the substation</p>
<p>voltage and angle from the basekv and angle tags.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Line</span></code></p></td>
<td><p>Models a multi-phase lines or cables, as a <span class="math notranslate nohighlight">\(pi\)</span> model with series</p>
<p>and shunt capacitance. The parameters can be provided as symmetrical</p>
<p>components or impedance matrices (most usual), by assigning it to a</p>
<p><code class="docutils literal notranslate"><span class="pre">Linecode</span></code> object.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Linecode</span></code></p></td>
<td><p>Stores the impedance characteristics for lines and cables.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Transformer</span></code></p></td>
<td><p>Implements a three or single phase-transformer. connected either as</p>
<p>as ‘wye’ or ‘delta’.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Regcontrol</span></code></p></td>
<td><p>in PyDSE, a voltage regulator is considered as a transformer with</p>
<p>fixed ratio.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Capacitor</span></code></p></td>
<td><p>Multi-phase shunt (grounded) capacitor.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Load</span></code></p></td>
<td><p>Multi-phase ‘wye’ or ‘delta’ connected load. PyDSE implements most</p>
<p>of the .dss load modes, such as constant power (type 1), constant</p>
<p>impedance (type 2) and constant current (type 5).</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Powergrid</span></code></p>
</div>
<p class="rubric">References</p>
<p>..[1] <a class="reference external" href="https://www.epri.com/pages/sa/opendss">https://www.epri.com/pages/sa/opendss</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss.post_process_capacitor">
<span class="sig-name descname"><span class="pre">post_process_capacitor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss.post_process_capacitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss.post_process_capacitor" title="Permalink to this definition"></a></dt>
<dd><p>Additional parsing of <code class="docutils literal notranslate"><span class="pre">capacitor</span></code> codes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss.post_process_circuit">
<span class="sig-name descname"><span class="pre">post_process_circuit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss.post_process_circuit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss.post_process_circuit" title="Permalink to this definition"></a></dt>
<dd><p>Additional parsing of <code class="docutils literal notranslate"><span class="pre">circuit</span></code> codes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss.post_process_line">
<span class="sig-name descname"><span class="pre">post_process_line</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss.post_process_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss.post_process_line" title="Permalink to this definition"></a></dt>
<dd><p>Additional parsing of <code class="docutils literal notranslate"><span class="pre">line</span></code> codes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss.post_process_linecode">
<span class="sig-name descname"><span class="pre">post_process_linecode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss.post_process_linecode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss.post_process_linecode" title="Permalink to this definition"></a></dt>
<dd><p>Additional parsing of <code class="docutils literal notranslate"><span class="pre">linecode</span></code> codes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss.post_process_transformer">
<span class="sig-name descname"><span class="pre">post_process_transformer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss.post_process_transformer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss.post_process_transformer" title="Permalink to this definition"></a></dt>
<dd><p>Additional parsing of <code class="docutils literal notranslate"><span class="pre">transformer</span></code> codes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">redirect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss.read" title="Permalink to this definition"></a></dt>
<dd><p>Reads an OpenDSS file (.dss) to a set dicionaries related to power elements</p>
<p>The <cite>read</cite> method reads an OpenDSS file, parse and store its contents in
dictionaries of <cite>circuit</cite>, <cite>line</cite>, <cite>transformer</cite>, <cite>regcontrol</cite>, <cite>load</cite>,
<cite>capacitor</cite> and <cite>linecode</cite>. Currently, the function accepts the OpenDSS
commands <cite>new</cite> and <cite>Redirect</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<cite>str</cite>) – OpenDSS filepath to read</p></li>
<li><p><strong>redirect</strong> (<em>bool, optional</em>) – Recursive flag for the <cite>redirect</cite> code, by default False</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Create a Dss object from the file ‘IEEE13.dss’ and print the linecodes read.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyopendss</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dss</span> <span class="o">=</span> <span class="n">pyopendss</span><span class="o">.</span><span class="n">Dss</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s1">&#39;IEEE13.dss)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dss</span><span class="o">.</span><span class="n">linecode</span><span class="s1">&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss.read_vln_vll">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">read_vln_vll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss.read_vln_vll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss.read_vln_vll" title="Permalink to this definition"></a></dt>
<dd><p>Read voltage output generated by OpenDSS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<cite>str</cite>) – OpenDSS file</p></li>
<li><p><strong>source</strong> (<cite>str</cite>) – Name of the source bus</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vv</strong> – Dataframe holding line-to-neutral and line-to-line voltages.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.Dataframe</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.pyopendss.Dss.yfromcsv">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">yfromcsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/pyopendss.html#Dss.yfromcsv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.pyopendss.Dss.yfromcsv" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves an Admittance matrix generated by OpenDSS from a csv file</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pydse.powergrid">
<span id="pydse-powergrid-module"></span><h2>pydse.powergrid module<a class="headerlink" href="#module-pydse.powergrid" title="Permalink to this headline"></a></h2>
<p>A class to represent a bus-branch model of a power system</p>
<dl class="py class">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pydse.powergrid.</span></span><span class="sig-name descname"><span class="pre">Powergrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circuit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linecode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regcontrol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capacitor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to represent a bus-branch model of a power system.</p>
<p>Models for elements of power distribution and conversion: lines,
transformers, regulators, capacitors and loads.
All components are handled in a per-node basis, which enables the class
to natively represent a natural (unbalanced) power network.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>circuit</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – <p>Represents a multi-phase voltage source. The key <cite>str</cite> is the circuit
(source) name. The internal subkeys (properties) can be as follows:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">bus1</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Name of the source bus</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">basekv</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>rated Line-to-line kV</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pu</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Actual per unit operating voltage</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">angle</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Base angle of the first phase (in degrees)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MVAsc3</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>3-phase short circuit MVA</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MVAsc1</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>1-phase short circuit MVA</p>
</dd>
</dl>
</p></li>
<li><p><strong>line</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – <p>Represents a multi-phase line or cable. The key <cite>str</cite> is the line name.
The subkeys of the internal <cite>dict</cite> are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">bus1</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Name of bus and the correponding nodes of terminal 1.
The nodes should be provided in the following way: ‘bus.1.2.3’
If missing, the  phase sequence ‘123’ is assumed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bus2</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Name of bus and the correponding nodes of terminal 2</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Linecode</span></code><span class="classifier"><cite>str</cite>, optional</span></dt><dd><p>Name of the associated <cite>linecode</cite> object with impedance definitions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Length</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Line length</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">R1,</span> <span class="pre">X1,</span> <span class="pre">R0,</span> <span class="pre">X0</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Positive and zero-sequence resistances, and reactances, in
ohms per unit length.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">C1,</span> <span class="pre">C0</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Positive and zero-sequence capacitances (nF / unit length)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">units</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Length units.</p>
</dd>
</dl>
</p></li>
<li><p><strong>transformer</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – <p>Represents a three- or single-phase transformer. The key is the
element name. The main properties are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">Phases</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Number of phases</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Windings</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Number of windings</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">XHL</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Percent high-to-low reactance</p>
</dd>
</dl>
<p>The following properties are read sequentially, for each winding:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">Wdg</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Winding integer identification</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Bus</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Bus (and nodes) to which the winding is conneted</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Conn</span></code><span class="classifier">{ ‘wye’, ‘delta’ }</span></dt><dd><p>Connection type of the winding</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kV</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Rated kV</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kva</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Base kva rating of the winding</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%R</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Percent resistance on the rated kva base</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%Tap</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Per-unit tap of the winding</p>
</dd>
</dl>
<p>Alternatively, the previous properties can be set for
all windings at once, by using the following keys:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">Buses</span></code><span class="classifier"><cite>str</cite> (array_like)</span></dt><dd><p>Array of bus-nodes definitions</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Conns</span></code><span class="classifier"><cite>str</cite> (array_like)</span></dt><dd><p>Array of winding connections</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kVs</span></code><span class="classifier"><cite>str</cite> (array_like)</span></dt><dd><p>Array of rated kVs</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kvas</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Array of the rated kvas</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Taps</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Array of per-unit taps</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%Rs</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Array of percent resistances</p>
</dd>
</dl>
</p></li>
<li><p><strong>regcontrol</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – Voltage regulator model (currenly not used by PYDSE)</p></li>
<li><p><strong>load</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – <p>Multi-phase load model. The key <cite>str</cite> is the load identification.
The internal properties are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">bus1</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Name of the bus (and nodes) to which the load is connected.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Phases</span></code><span class="classifier"><cite>str</cite> (int like)</span></dt><dd><p>Number of phases</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kV</span></code><span class="classifier"><cite>str</cite> (float like)</span></dt><dd><p>Nominal voltage.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kW</span></code><span class="classifier"><cite>str</cite> (float like)</span></dt><dd><p>Nominal active power</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kvar</span></code><span class="classifier"><cite>str</cite> (float like)</span></dt><dd><p>Base kvar</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Model</span></code><span class="classifier">{‘1’, ‘2’ , ‘5’}, where:</span></dt><dd><p>1 is Constant power
2 is Constant admittance
5 is Constant current</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Conn</span></code><span class="classifier">{‘wye’, ‘delta’}</span></dt><dd><p>Connection type.</p>
</dd>
</dl>
</p></li>
<li><p><strong>capacitor</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – <p>Shunt (grounded) capacitor model. The key <cite>str</cite> is the element name.
The properties are:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">bus1</span></code><span class="classifier"><cite>str</cite></span></dt><dd><p>Name of the bus (and nodes) to which the element is connected.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Phases</span></code><span class="classifier"><cite>str</cite> (int like)</span></dt><dd><p>Number of phases</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kV</span></code><span class="classifier"><cite>str</cite> (float like)</span></dt><dd><p>Rated kv</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kVar</span></code><span class="classifier"><cite>str</cite> (float like)</span></dt><dd><p>Rated kvar (total of all phases)</p>
</dd>
</dl>
</p></li>
<li><p><strong>branches</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – Associative array where the keys are the branch elements and the
values are the processed parameters</p></li>
<li><p><strong>busnodes</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – Associative array where the keys are the bus numbers, and the values
are the numering indices associated to each node.
This array defines the bus-node order of the voltage and current arrays.</p></li>
<li><p><strong>orderbus</strong> (<cite>dict</cite> [<cite>str, `int</cite>]) – Array mapping bus names and the corresponding order position.</p></li>
<li><p><strong>orderbusn</strong> (<cite>dict</cite> [<cite>str, `int</cite>]) – Array mapping bus names with nodes and the corresponding order position.</p></li>
<li><p><strong>nbus</strong> (<cite>int</cite>) – Total number of buses</p></li>
<li><p><strong>nnodes</strong> (<cite>int</cite>) – Total number of nodes</p></li>
<li><p><strong>nbr</strong> (<cite>int</cite>) – Number of branches</p></li>
<li><p><strong>nbrp</strong> (<cite>int</cite>) – Number of individual branches</p></li>
<li><p><strong>dss</strong> (<cite>pyopendss.Dss</cite> object, default None) – It will have the Dss object when readfromdss is called.</p></li>
<li><p><strong>sysname</strong> (<cite>str</cite>) – Name of the network, as read in the circuit attribute.</p></li>
<li><p><strong>filepath</strong> (<cite>str</cite>) – Stores the filename the system data was read from.</p></li>
<li><p><strong>sub_bus</strong> (<cite>str</cite>) – Name of the substation (source) bus, as read in <cite>circuit</cite> attribute.</p></li>
<li><p><strong>sub_nph</strong> (<cite>int</cite>) – Number of phases in the substation</p></li>
<li><p><strong>sub_kv</strong> (<cite>float</cite>) – Voltage level of the substation</p></li>
<li><p><strong>I</strong><strong>, </strong><strong>S</strong> (<em>E</em><em>,</em>) – Complex nodal voltages (line-to-neutral), currents and power injections
injections, of size <cite>nnodes</cite>.</p></li>
<li><p><strong>Ell</strong> (<cite>numpy.array</cite>) – Complex Line-to-line voltages</p></li>
<li><p><strong>Skm</strong> (<em>Ikm</em><em>,</em>) – Complex branch currents and power flows</p></li>
<li><p><strong>Y</strong> (<cite>numpy.array</cite> of <cite>complex</cite> (<cite>nnodes</cite>, <cite>nnodes</cite>)) – Complex Admittance Matrix</p></li>
<li><p><strong>H</strong> (<cite>networkx.MultiDiGraph</cite>) – Graph of the network.</p></li>
<li><p><strong>sweepfromroot</strong> (<cite>networkx.DiGraph</cite>) – Orderd Graph that will hold the branches ordered with respect to
the substation distance (see <cite>calc_Vbase</cite> for more detauls)</p></li>
<li><p><strong>vbase</strong> (<cite>numpy.array</cite> (<cite>nnodes</cite>,)) – Voltage base defined for each node (see <cite>calc_Vbase</cite>)</p></li>
<li><p><strong>initv</strong> (<cite>numpy.array</cite> (<cite>nnodes</cite>,)) – Per-unit complex number assigned to each node , for initialization
purposes (see <cite>calc_Vbase</cite> for more details)</p></li>
<li><p><strong>trbus1</strong> (<cite>list</cite> [<cite>str</cite>]) – List of transformers’ primary buses</p></li>
<li><p><strong>trbus2</strong> (<cite>list</cite> [<cite>str</cite>]) – List of transformers’ secondary buses</p></li>
<li><p><strong>times</strong> (<cite>bool</cite>, default False) – Enables time measuring, if True</p></li>
<li><p><strong>times_data</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>float</cite>]) – Array where the keys are function markers and the values
are the corresponding computing times (enabled if <cite>times</cite> is True)</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Example of valid bus identifiers:</p>
<p><code class="docutils literal notranslate"><span class="pre">300.1.2.3</span></code> (bus 300 with nodes 1, 2 and 3)</p>
<p><code class="docutils literal notranslate"><span class="pre">400.1.2</span></code> (bus 400 with nodes 1 and 2)</p>
<p><code class="docutils literal notranslate"><span class="pre">SRC</span></code> (bus SRC, with nodes 1 to 3 depending on the number of phases)</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.build_Y">
<span class="sig-name descname"><span class="pre">build_Y</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.build_Y"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.build_Y" title="Permalink to this definition"></a></dt>
<dd><p>Builds the nodal admittance matrix</p>
<p>The admittance matrix is first build considering a complete 3-phase system.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.busbranch">
<span class="sig-name descname"><span class="pre">busbranch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.busbranch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.busbranch" title="Permalink to this definition"></a></dt>
<dd><p>Build the bus-branch model of the network</p>
<p>The bus-branch representation of the system is defined in terms of
nodes and edges, which are modeled in the <cite>busnodes</cite> and <cite>branches</cite>
associative arrays. The representation of most elements of the system
follows the OpenDSS standard.</p>
<p class="rubric">Notes</p>
<ol class="arabic">
<li><p>The following equipment are currently accepted:</p>
<blockquote>
<div><ul class="simple">
<li><p>multi-phase lines</p></li>
<li><p>multi-phase transformers</p></li>
<li><p>multi-phase capacitors (assumed as current injections)</p></li>
</ul>
<p>The parameters are included in its original states (ohms, siemens,
and so forth). The series and shunt line parameters can be provided
in terms of impedance matrices or sequency matrices.</p>
</div></blockquote>
</li>
<li><p>The order assumed for each bus and nodes is defined according to the
branch reading sequence (lines then transformers). The <cite>orderbus</cite> and
<cite>orderbusn</cite> hold the bus-node sequence for subsequent references.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.calc_Ell">
<span class="sig-name descname"><span class="pre">calc_Ell</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.calc_Ell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.calc_Ell" title="Permalink to this definition"></a></dt>
<dd><p>Calculate line-to-line voltages</p>
<p>The line-to-line voltages are computed based on the line-to neutral voltages</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.calc_Il">
<span class="sig-name descname"><span class="pre">calc_Il</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loadmodel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.calc_Il"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.calc_Il" title="Permalink to this definition"></a></dt>
<dd><p>Calculates the currents drawn by loads and shunt capacitors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<em>array like, optional</em>) – Nodal voltage vector. If not provided, self.E is assumed</p></li>
<li><p><strong>loadmodel</strong> (<em>{‘1’, ‘2’, ‘5’}, optional</em>) – Load model to assume for all loads. If provided, overrides the individual load models.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.calc_Vbase">
<span class="sig-name descname"><span class="pre">calc_Vbase</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.calc_Vbase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.calc_Vbase" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the voltage bases for the system</p>
<p>The method is based on the analysis of the network graph (sweepfromroot).
Starting from the root node, each edge is traversed and the terminal-bus voltage
base is computed by multiplying the other bus by the transformation ratio of the
branch. For lines, this ratio is unitary. For transformers, it is defined based
on the transformer ratio.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.flowsAndInjections">
<span class="sig-name descname"><span class="pre">flowsAndInjections</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.flowsAndInjections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.flowsAndInjections" title="Permalink to this definition"></a></dt>
<dd><p>Calculate current/power flows and injections</p>
<p>This method calculates both current and power flows and injections,
based on the available complex voltages</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.fromdss">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">fromdss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.fromdss"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.fromdss" title="Permalink to this definition"></a></dt>
<dd><p>Creates a Powergrid object from an OpenDSS data file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<cite>str</cite>) – Path of the OpenDSS file</p></li>
<li><p><strong>sbase</strong> (<cite>float</cite>, optional) – Nominal power base (experimental)</p></li>
<li><p><strong>times</strong> (<em>bool, optional</em>) – Activate the meausuring of computing times, by default False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.init_E">
<span class="sig-name descname"><span class="pre">init_E</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mult</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1.0,</span> <span class="pre">1.0,</span> <span class="pre">1.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.init_E"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.init_E" title="Permalink to this definition"></a></dt>
<dd><p>Initialize line-to-neutral voltages</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mult</strong> (<em>array like, optional</em>) – Multiplication factor to add to each phase magnitude, by default [1.,1.,1.]</p></li>
<li><p><strong>new</strong> (<em>bool, by default True</em>) – Activates the new initialization method, based on the network grapy</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.powergrid.Powergrid.reorder_e">
<span class="sig-name descname"><span class="pre">reorder_e</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orderbusn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/powergrid.html#Powergrid.reorder_e"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.powergrid.Powergrid.reorder_e" title="Permalink to this definition"></a></dt>
<dd><p>Compute a new (reordered) voltage vector and voltage base</p>
<p>The new bus order is provided as a list (orderbusn) with buses and nodes.
The class voltage vector (self.E) is not modified</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>orderbusn</strong> (<em>list of buses and nodes (of kind ‘bus.1.2.3’)</em>)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>E, array like</em> – Reorderd voltage vector</p></li>
<li><p><em>vbase, array like</em> – Reorderd vbase list</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pydse.loadflow">
<span id="pydse-loadflow-module"></span><h2>pydse.loadflow module<a class="headerlink" href="#module-pydse.loadflow" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pydse.loadflow.Loadflow">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pydse.loadflow.</span></span><span class="sig-name descname"><span class="pre">Loadflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loadmodel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/loadflow.html#Loadflow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.loadflow.Loadflow" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to solve the three-phase unbalanced load flow problem</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<cite>powergrid</cite>) – Power system represented in the grid object.
If not provided, a grid object will be generated based on <cite>filename</cite></p></li>
<li><p><strong>filename</strong> (<cite>string</cite>, optional) – Optional filename to instantiate a grid object</p></li>
<li><p><strong>tol</strong> (<cite>float</cite>, defaull 1e-6) – Tolerance for load flow convergence (error magnitude)</p></li>
<li><p><strong>maxit</strong> (<cite>int</cite>, default 1000) – Maximum number of iterations</p></li>
<li><p><strong>sbase</strong> (<em>float</em><em>, </em><em>optional</em>) – Base power for per-unit calculations, if grid is not provided.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Run load flow on system ‘IEEE13mod.dss’ using the zbus method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">loadflow</span> <span class="kn">import</span> <span class="n">Loadflow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;IEEE13mod.dss&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lf</span> <span class="o">=</span> <span class="n">Loadflow</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loadflow</span><span class="o">.</span><span class="n">loadflow</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;zbus&#39;</span><span class="p">,</span> <span class="n">report</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pydse.loadflow.Loadflow.gauss_seidel">
<span class="sig-name descname"><span class="pre">gauss_seidel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/loadflow.html#Loadflow.gauss_seidel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.loadflow.Loadflow.gauss_seidel" title="Permalink to this definition"></a></dt>
<dd><p>Solves the Load flow using the Gauss-Seidel method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>solve status, where 0 means convergence, and 1 divergence
it (int): number of iterations performed
err (float): maximum absolute error of voltage magnitude</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>status (int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.loadflow.Loadflow.loadflow">
<span class="sig-name descname"><span class="pre">loadflow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zbus'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/loadflow.html#Loadflow.loadflow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.loadflow.Loadflow.loadflow" title="Permalink to this definition"></a></dt>
<dd><p>Runs loadflow</p>
<p>Runs the loadflow on a powergrid represented in the ‘grid’ object.
The methods currently available are ‘zbus’ and ‘gauss-seidel’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>{‘zbus’, ‘gauss-seidel’}</em>) – Load flow Method, by default ‘gauss-seidel’</p></li>
<li><p><strong>tol</strong> (<cite>float</cite>, optional) – Tolerance (default 1e-6)</p></li>
<li><p><strong>report</strong> (<cite>bool</cite>, default False) – Print an output report</p></li>
<li><p><strong>timings</strong> (<cite>bool</cite>, default False) – Enable the timings report</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>status</strong> – solved status (0 for convergence, 1 otherwise)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Run zbus load-flow on the IEEE13 feeder, and print a report.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">loadflow</span> <span class="o">=</span> <span class="n">Loadflow</span><span class="p">(</span><span class="s2">&quot;IEEE13.dss&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loadflow</span><span class="o">.</span><span class="n">loadflow</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;zbus&#39;</span><span class="p">,</span> <span class="n">report</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.loadflow.Loadflow.zbus">
<span class="sig-name descname"><span class="pre">zbus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/loadflow.html#Loadflow.zbus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.loadflow.Loadflow.zbus" title="Permalink to this definition"></a></dt>
<dd><p>Solves the Load flow using the Zbus method</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>solve status, where 0 means convergence, and 1 divergence
it (int): number of iterations performed
err (float): maximum absolute error of voltage magnitude</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>status (int)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pydse.dse">
<span id="pydse-dse-module"></span><h2>pydse.dse module<a class="headerlink" href="#module-pydse.dse" title="Permalink to this headline"></a></h2>
<p>A class to Estimate the State of unbalanced Distribution Systems</p>
<dl class="py class">
<dt class="sig sig-object py" id="pydse.dse.Dse">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pydse.dse.</span></span><span class="sig-name descname"><span class="pre">Dse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sbase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to Estimate the State of unbalanced Distribution Systems</p>
<p>Currently, the Branch-current method is implemented, using a Sparse
solver from <cite>scipy</cite>. Artificial measurements can be generated from
the <cite>zbus</cite> load-flow method.</p>
<p>The observability check is performed by analyzing the transpose of
the Jacobian Matrix. If the system is not observable, a list of the
relevant branches that need additional measurements is provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<cite>powergrid</cite>) – Power system represented in a Powergrid object.
If not provided, a grid object will be generated based on <cite>filename</cite></p></li>
<li><p><strong>filename</strong> (<cite>string</cite>, optional) – Optional filename to instantiate the Powergrid object</p></li>
<li><p><strong>loadflow</strong> (<cite>Loadflow</cite>) – Holds a loadflow object, if measurement generation is requested.</p></li>
<li><p><strong>meter</strong> (list [<cite>Meter</cite>]) – Stores the measurements available in a <cite>Meter</cite> object</p></li>
<li><p><strong>indexbr</strong> (<cite>dict</cite> [<cite>str</cite>, <cite>dict</cite>]) – Associative array with index information for each branch km.
The key represents busk, and the values hold busm and the location
of the branch in the state vector <cite>Ikm</cite>.  See <a class="reference internal" href="#pydse.dse.Dse.indexBranches" title="pydse.dse.Dse.indexBranches"><code class="xref py py-func docutils literal notranslate"><span class="pre">indexBranches()</span></code></a>
for more details.</p></li>
<li><p><strong>method</strong> (<cite>str</cite>, default ‘branch-current’) – Solution method of the State Estimator.</p></li>
<li><p><strong>nmt</strong> (<cite>int</cite>) – Number of meters</p></li>
<li><p><strong>nbr</strong> (<cite>int</cite>) – Number of branches</p></li>
<li><p><strong>N</strong> (<cite>int</cite>) – Number of state variables</p></li>
<li><p><strong>M</strong> (<cite>int</cite>) – Number of measurements</p></li>
<li><p><strong>Z</strong> (<cite>numpy.array</cite>, (M, )) – Measurement (complex) vector</p></li>
<li><p><strong>H</strong> (2D <cite>numpy.array</cite>, (M, N)) – Dense Jacobian Matrix</p></li>
<li><p><strong>Hs</strong> (<cite>sparse.csc_matrix</cite>, (M, N)) – Sparse Jacobian Matrix (column-major)</p></li>
<li><p><strong>Ws</strong> (<cite>sparse.coo_matrix</cite>, (M, M)) – Sparse Weighting Matrix</p></li>
<li><p><strong>G</strong> (<cite>sparse.csc_matrix</cite>, (M, N)) – Gain matrix</p></li>
<li><p><strong>Gf</strong> (<cite>sparse.csc_matrix</cite>, (M, N)) – Factorized gain matrix</p></li>
<li><p><strong>r</strong> (<cite>numpy.array</cite>, (M, )) – Residual (complex) vector</p></li>
<li><p><strong>r_</strong> (<cite>numpy.array</cite>, (M, )) – Normalized residual (complex) vector</p></li>
<li><p><strong>r_thres</strong> (<cite>float</cite>, default 3.) – Normalized residual test threshold</p></li>
<li><p><strong>grossmeas</strong> (<cite>list</cite> [<cite>int</cite>]) – Index of the measurements flagged with gross errors.
See <a class="reference internal" href="#pydse.dse.Dse.checkGrossErrors" title="pydse.dse.Dse.checkGrossErrors"><code class="xref py py-func docutils literal notranslate"><span class="pre">checkGrossErrors()</span></code></a></p></li>
<li><p><strong>grossmeas_r_</strong> (<cite>list</cite> [<cite>float</cite>]) – Normalized residuals of the erroneous measurement.</p></li>
<li><p><strong>Ikm</strong> (<cite>numpy.array</cite> , (M, )) – Complex branch-current state vector (estimated currents)</p></li>
<li><p><strong>E</strong> (<cite>numpy.array</cite>) – Complex nodal voltages vector.</p></li>
<li><p><strong>states</strong> (<cite>list</cite> [<cite>str</cite>]) – String-list representation of the states</p></li>
<li><p><strong>Zstr</strong> (<cite>list</cite> [<cite>str</cite>]) – String-list representingn the measurement vector</p></li>
<li><p><strong>zmap</strong> (<cite>list</cite> [<cite>np.ndarray</cite>]) – Stores the location (position in the meter list and the internal node)
of the measurement Z inside the meter structure.</p></li>
<li><p><strong>isObservable</strong> (<cite>bool</cite>) – Observability status of the system. True for an obsevable system.
See <a class="reference internal" href="#pydse.dse.Dse.checkObservability" title="pydse.dse.Dse.checkObservability"><code class="xref py py-func docutils literal notranslate"><span class="pre">checkObservability()</span></code></a></p></li>
<li><p><strong>hasGrossErrors</strong> (<cite>bool</cite>) – True if there are gross errors present.
Initially, set to True. See <a class="reference internal" href="#pydse.dse.Dse.checkGrossErrors" title="pydse.dse.Dse.checkGrossErrors"><code class="xref py py-func docutils literal notranslate"><span class="pre">checkGrossErrors()</span></code></a></p></li>
<li><p><strong>nonobstates</strong> (<cite>list</cite> [<cite>int</cite>]) – Index of the non-observable branches</p></li>
<li><p><strong>tol</strong> (<cite>float</cite>, default 1e-8) – Tolerance for the estimator convergence.</p></li>
<li><p><strong>maxit</strong> (<cite>int</cite>, default 100) – Maximum number of iterations.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.BranchCurrent">
<span class="sig-name descname"><span class="pre">BranchCurrent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.BranchCurrent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.BranchCurrent" title="Permalink to this definition"></a></dt>
<dd><p>Branch-current based DSE</p>
<p>The Branch-current based DSE (BcDSE) algorithm [1] estimates the complex
currents at each branch of a power grid by using a set of redundant power
flow or injection measurements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>report</strong> (<cite>bool</cite>, default False) – Print a small report after the estimation process</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>status</strong> – Observable status (True for observable, False otherwise)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>bool</cite></p>
</dd>
</dl>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="https://ieeexplore.ieee.org/document/373974">https://ieeexplore.ieee.org/document/373974</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.addMeas">
<span class="sig-name descname"><span class="pre">addMeas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ikm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grosserror</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.addMeas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.addMeas" title="Permalink to this definition"></a></dt>
<dd><p>Add artificial measurements from load flow</p>
<p>The generated measurements can be of current or power <cite>type</cite> (flow or injection).
The noise level for each measurements is defined by the <cite>accuracy</cite> parameter,
which represents the reliability of the corresponding meter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>{‘ikm’,’skm’,’i’,’q’}, default ‘ikm’</em>) – Type of measurement to add.</p></li>
<li><p><strong>nodes</strong> (<em>{‘123’, ‘12’}, default ‘all’</em>) – Nodes to which the measurement are connected to. It defaults to ‘all’, which
means all available nodes</p></li>
<li><p><strong>location</strong> (<em>{‘bus’, ‘bus1-bus2’}, default ‘all’</em>) – Location to place the measurement. If bus, it should be the bus number or
a range of buses. If branch measurement, the terminal buses should be provided,
separated by a dash. The full branch id is also accepted.
Multiple locations are supported by separating the fields with comma.</p></li>
<li><p><strong>ignore</strong> (<em>{‘src’, ‘bus’}, optional</em>) – Buses to be ignored when generating the measurements, by default None.</p></li>
<li><p><strong>accuracy</strong> (<em>float, default 0.</em>) – Measurement accuracy (0 to 1)</p></li>
<li><p><strong>active</strong> (<em>bool, default True</em>) – If true, the measurement is active</p></li>
<li><p><strong>grosserror</strong> (<cite>float</cite>, default 0.) – Gross error to be added to the measurement</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Add pseudo- load power measurement to all buses except bus ‘src’, including all
nodes available on each bus.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pydse.dse</span> <span class="kn">import</span> <span class="n">Dse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dse</span> <span class="o">=</span> <span class="n">Dse</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;&lt;.dss filename&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dse</span><span class="o">.</span><span class="n">addMeas</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="o">=</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="s1">&#39;src&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add current injection measurments to buses 611, 684, 652, 671, 680, 692, 675, 670:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dse</span><span class="o">.</span><span class="n">addMeas</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;611, 684, 652, 671, 680, 692, 675, 670&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add flow measurements to the transformer XFM1, Sub and branch 650-632:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dse</span><span class="o">.</span><span class="n">addMeas</span><span class="p">(</span><span class="s1">&#39;Skm&#39;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;XFM1, 650-632, Sub&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add flow measurement to branch 645-646, nodes 2 and 3, with 10% accuracy:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dse</span><span class="o">.</span><span class="n">addMeas</span><span class="p">(</span><span class="s1">&#39;skm&#39;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;645-646&#39;</span><span class="p">,</span> <span class="n">nodes</span><span class="o">=</span><span class="s1">&#39;23&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add a pseudo- load in bus 611, with gross error 0.9 (90% times the expected accuracy)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dse</span><span class="o">.</span><span class="n">addMeas</span><span class="p">(</span><span class="s1">&#39;s-pseudo&#39;</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="s1">&#39;611&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">grosserror</span><span class="o">=</span> <span class="mf">0.9</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.checkGrossErrors">
<span class="sig-name descname"><span class="pre">checkGrossErrors</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.checkGrossErrors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.checkGrossErrors" title="Permalink to this definition"></a></dt>
<dd><p>Detect and remove gross errors</p>
<p>Detect and remove gross errors through the maximum normalized
residual test. The detection threshold is defined by
<code class="docutils literal notranslate"><span class="pre">r_thres</span></code>. The measurements flagged by gross errors are
deactivated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.checkObservability">
<span class="sig-name descname"><span class="pre">checkObservability</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.checkObservability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.checkObservability" title="Permalink to this definition"></a></dt>
<dd><p>Checks the network observability by analyzing matrix Ht</p>
<p>The method is based on the factorization of the transpose of the
Jacobian Matrix (H.T). If any row of the factorized matrix has all
elements zero, it indicates the corresponding state is non-observable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.disableMeas">
<span class="sig-name descname"><span class="pre">disableMeas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zpos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.disableMeas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.disableMeas" title="Permalink to this definition"></a></dt>
<dd><p>Disable a measurement</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>zpos</strong> (<cite>tuple</cite>) – The absolute position in Z and the corresponding node
associated with the measurement.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.formH">
<span class="sig-name descname"><span class="pre">formH</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.formH"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.formH" title="Permalink to this definition"></a></dt>
<dd><p>Form the Jacobian Matrix (H) for State Estimation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.formW">
<span class="sig-name descname"><span class="pre">formW</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.formW"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.formW" title="Permalink to this definition"></a></dt>
<dd><p>Construct the Weighting Matrix (W)</p>
<p>The weight of each measurement is computed as the reciprocal of the
correponding variance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.formZ">
<span class="sig-name descname"><span class="pre">formZ</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.formZ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.formZ" title="Permalink to this definition"></a></dt>
<dd><p>Form the measurement vector (Z)</p>
<p>The vector Z contains only measurements of current type.
Power measurements are converted to pseudo-current measurements
using the voltages available.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Vector Z is build considered only ACTIVE measurements.
If a measurement is flagged as gross error after the estimation
process, it will be deactivated.
See <a class="reference internal" href="#pydse.dse.Dse.checkGrossErrors" title="pydse.dse.Dse.checkGrossErrors"><code class="xref py py-func docutils literal notranslate"><span class="pre">checkGrossErrors()</span></code></a> for more details.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.getTrueCurrents">
<span class="sig-name descname"><span class="pre">getTrueCurrents</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.getTrueCurrents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.getTrueCurrents" title="Permalink to this definition"></a></dt>
<dd><p>Return the true branch current vector from the load flow results</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>Ikm_true</strong> – Array of the true branch currents evaluted from load flow</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.indexBranches">
<span class="sig-name descname"><span class="pre">indexBranches</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.indexBranches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.indexBranches" title="Permalink to this definition"></a></dt>
<dd><p>Construct the index containing the branch order for BcDSE</p>
<p>The dict indexbr will store the ids of the from and to buses, and. For each
node, it will store the index of the corresponding position in the measurement
vector Z and H matrix.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.runDSE">
<span class="sig-name descname"><span class="pre">runDSE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'branch-current'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkerrors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reportmeas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reportv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reporti</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.runDSE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.runDSE" title="Permalink to this definition"></a></dt>
<dd><p>Wrapper class for performing a Distributed State Estimator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<cite>str</cite>, optional) – Solution method, by default ‘branch-current’</p></li>
<li><p><strong>checkerrors</strong> (<cite>boolt</cite>, optional) – If <cite>False</cite>, ignore the gross error processing. By default ‘True’</p></li>
<li><p><strong>report</strong> (<em>bool, optional, default False</em>) – Print a main summary report</p></li>
<li><p><strong>reportmeas</strong> (<em>bool, default True</em>) – If <code class="docutils literal notranslate"><span class="pre">report</span></code> is enabled, print the measurement set</p></li>
<li><p><strong>reportv</strong> (<em>bool, default True</em>) – If <code class="docutils literal notranslate"><span class="pre">report</span></code> is enabled, print the voltage profile</p></li>
<li><p><strong>reporti</strong> (<em>bool, default True</em>) – If <code class="docutils literal notranslate"><span class="pre">report</span></code> is enabled, print the current profile</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.dse.Dse.updateVoltages">
<span class="sig-name descname"><span class="pre">updateVoltages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/dse.html#Dse.updateVoltages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.dse.Dse.updateVoltages" title="Permalink to this definition"></a></dt>
<dd><p>Update the nodal Voltages using the available branch-currents</p>
<p>This is the step 2 of the BrcDSE algorithm. It performes a forward
sweep starting from the substation, updating all nodal voltages
using Kirchhoff’s Voltage Law.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pydse.meas">
<span id="pydse-meas-module"></span><h2>pydse.meas module<a class="headerlink" href="#module-pydse.meas" title="Permalink to this headline"></a></h2>
<p>A class to represent measurements</p>
<dl class="py class">
<dt class="sig sig-object py" id="pydse.meas.Meas">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pydse.meas.</span></span><span class="sig-name descname"><span class="pre">Meas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/meas.html#Meas"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.meas.Meas" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to represent measurements</p>
<dl>
<dt>type<span class="classifier">{‘ikm’,’skm’,’i’,’q’}</span></dt><dd><p>Measurement type</p>
</dd>
<dt>nodes<span class="classifier">{‘123’, ‘12’}, default ‘all’</span></dt><dd><p>Nodes to which the measurement is connected to.</p>
</dd>
<dt>location<span class="classifier">{‘bus’, ‘bus1-bus2’}</span></dt><dd><p>Location (bus or branch) where the measurement is placed.
If bus, location is the bus number.
If branch measurement, it is the terminal buses or the branch id.</p>
</dd>
<dt>accuracy<span class="classifier">float, default 0.</span></dt><dd><p>Measurement accuracy (0 to 1)</p>
</dd>
<dt>active<span class="classifier"><cite>list</cite> [<cite>bool</cite>], default True</span></dt><dd><p>Individually enable or disable each internal measurement.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Meas class can model either a single or a multi-phase
measurement, depending on the number of internal nodes.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pydse.meas.Meas.disable">
<span class="sig-name descname"><span class="pre">disable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/meas.html#Meas.disable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.meas.Meas.disable" title="Permalink to this definition"></a></dt>
<dd><p>Disable the measurement of group of measurements</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pydse.meter">
<span id="pydse-meter-module"></span><h2>pydse.meter module<a class="headerlink" href="#module-pydse.meter" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pydse.meter.Meter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pydse.meter.</span></span><span class="sig-name descname"><span class="pre">Meter</span></span><a class="reference internal" href="_modules/pydse/meter.html#Meter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.meter.Meter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to represent measurement devices</p>
<p>The measurements are added using the addMeter function. Each one is
internally stored in the <cite>meter</cite> list, which is a list of Meas objects.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pydse.meter.Meter.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accuracy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/meter.html#Meter.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.meter.Meter.add" title="Permalink to this definition"></a></dt>
<dd><p>Add a measurement to the internal meter object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>{‘ikm’,’skm’,’i’,’q’}, default ‘ikm’</em>) – Type of measurement to be added</p></li>
<li><p><strong>value</strong> (<cite>list</cite> [<cite>float</cite>]) – Value of the measurement</p></li>
<li><p><strong>nodes</strong> (<cite>str</cite>) – Node(s) identifier</p></li>
<li><p><strong>location</strong> (<cite>str</cite>) – Location of measurement.</p></li>
<li><p><strong>accuracy</strong> (<cite>float</cite>) – Measurement accuracy (unitary)</p></li>
<li><p><strong>active</strong> (<cite>bool</cite>, default True) – Enable status</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.meter.Meter.disable">
<span class="sig-name descname"><span class="pre">disable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meas</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/meter.html#Meter.disable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.meter.Meter.disable" title="Permalink to this definition"></a></dt>
<dd><p>Disable a measurement stored in the internal meter object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>meas</strong> (<cite>~pydse.meas.Meas</cite>) – Measurement object to be deactivated</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a multi-phase measurement, all measurements will be disabled.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.meter.Meter.nm">
<span class="sig-name descname"><span class="pre">nm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/meter.html#Meter.nm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.meter.Meter.nm" title="Permalink to this definition"></a></dt>
<dd><p>Returns the total number (active and inactive) of measurements</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.meter.Meter.nma">
<span class="sig-name descname"><span class="pre">nma</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/meter.html#Meter.nma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.meter.Meter.nma" title="Permalink to this definition"></a></dt>
<dd><p>Returns the number of active measurements</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydse.meter.Meter.nmt">
<span class="sig-name descname"><span class="pre">nmt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/meter.html#Meter.nmt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.meter.Meter.nmt" title="Permalink to this definition"></a></dt>
<dd><p>Returns the number of meters</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pydse.gridutils">
<span id="pydse-gridutils-module"></span><h2>pydse.gridutils module<a class="headerlink" href="#module-pydse.gridutils" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pydse.gridutils.summary_dse">
<span class="sig-prename descclassname"><span class="pre">pydse.gridutils.</span></span><span class="sig-name descname"><span class="pre">summary_dse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">it</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxabserr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ikm_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reportmeas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reportv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reporti</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/gridutils.html#summary_dse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.gridutils.summary_dse" title="Permalink to this definition"></a></dt>
<dd><p>Prints a summary of the state estimation process</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pydse.gridutils.summary_lf">
<span class="sig-prename descclassname"><span class="pre">pydse.gridutils.</span></span><span class="sig-name descname"><span class="pre">summary_lf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lf_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse/gridutils.html#summary_lf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.gridutils.summary_lf" title="Permalink to this definition"></a></dt>
<dd><p>Generates a voltage report for the current power system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lf_res</strong> (<em>tuple, optional</em>) – Tuple containing convergence status of the load flow</p></li>
<li><p><strong>times</strong> (<cite>bool</cite>, default False) – Print the timing report</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pydse">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pydse" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pydse.getExamplesPath">
<span class="sig-prename descclassname"><span class="pre">pydse.</span></span><span class="sig-name descname"><span class="pre">getExamplesPath</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pydse.html#getExamplesPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pydse.getExamplesPath" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="Pydse API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Eduardo Werley.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>